<%# Answer Variable => Ruby Variable Translation -%>
<%
  @hostname       = (ENV["t_puppet_enterpriseconsole_httpd_vhost"].nil? || ENV["t_puppet_enterpriseconsole_httpd_vhost"] == "*" ? ENV["PLATFORM_HOSTNAME"] : ENV["t_puppet_enterpriseconsole_httpd_vhost"])
  @secret_key     = ENV['t_session_key']
  @console_port   = ENV['q_puppet_enterpriseconsole_httpd_port']
-%>
## This configuration file contains information required by any web
## service that makes use of the CAS server for authentication.

authentication:

  ## Use this configuration option if the CAS server is on a host different
  ## from the console-auth server.
  # cas_host: <%= @hostname -%>:<%= @console_port.to_s %>

  ## The port CAS is listening on.  This is ignored if cas_host is set.
  <%- if @console_port.to_s == "443" -%>
  # cas_port: 443
  <%- else -%>
  cas_port: <%= @console_port.to_s -%>
  <%- end -%>

  ## The session secret is randomly generated during installation of Puppet
  ## Enterprise and will be regenerated any time console-auth is enabled or disabled.
  session_key: 'puppet_enterprise_console'
  session_secret: <%= @secret_key %>

  ## Set this to true to allow anonymous users read-only access to all of
  ## Puppet Enterprise Console.
  global_unauthenticated_access: false

authorization:
  local:
    default_role: read-only
    description: Local
#  ldap:
#    default_role: read-only
#    description: LDAP
#  activedirectoryldap:
#    default_role: read-only
#    description: Active Directory
#  google:
#    default_role: read-only
#    description: Google
